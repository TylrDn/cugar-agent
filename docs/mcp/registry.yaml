# Canonical MCP registry (short IDs, Tier 1 default-on, Tier 2 opt-in)
# enabled=false entries are ignored at load time even if present in compose
version: v1
defaults:
  tier: 1
  enabled: true
  protocol: mcp
  sandbox: py-slim
  scopes: []
  env: {}
  mounts: []
entries:
  - id: langflow
    protocol: http
    ref: ${LANGFLOW_HOST:-http://langflow:7860}
    sandbox: orchestrator
    scopes: [orchestrator, control]
    env:
      LANGFLOW_API_KEY: '${LANGFLOW_API_KEY:?}'
    mounts: []
  - id: altk
    protocol: http
    ref: ${ALTK_HOST:-http://altk:8080}
    sandbox: orchestrator
    scopes: [orchestrator, control]
    env:
      ALTK_TOKEN: '${ALTK_TOKEN:?}'
    mounts: []

  - id: mcp.e2b
    sandbox: py-full
    ref: docker://e2b
    scopes: [exec]
    env:
      E2B_API_KEY: '${E2B_API_KEY:?}'
    mounts: [/workdir:ro, /workdir/output:rw]
  - id: mcp.docker
    sandbox: py-full
    ref: docker://sandbox
    scopes: [exec]
    mounts: [/workdir:ro, /workdir/output:rw]
  - id: mcp.fs
    ref: docker://filesystem
    scopes: [fs]
    mounts: [/workspace:ro, /workspace/output:rw]
  - id: mcp.fastfs
    ref: docker://fast-filesystem-mcp
    scopes: [fs]
    mounts: [/workspace:ro, /workspace/output:rw]
  - id: mcp.llmcontext
    ref: docker://llm-context
    scopes: [context]
    mounts: [/workspace/output:rw]
  - id: mcp.filestash
    sandbox: py-full
    ref: docker://filestash
    scopes: [backup]
    mounts: [/workspace/output:rw]
  - id: mcp.backup
    sandbox: py-full
    ref: docker://backup
    scopes: [backup]
    mounts: [/workspace/output:rw]
  - id: mcp.browser
    sandbox: node-full
    ref: docker://browser
    scopes: [web]
    env:
      BROWSER_API_KEY: '${BROWSER_API_KEY:-}'
    mounts: []
  - id: mcp.search
    sandbox: node-slim
    ref: docker://search
    scopes: [web]
    env:
      SEARCH_API_KEY: '${SEARCH_API_KEY:-}'
    mounts: []
  - id: mcp.snscrape
    sandbox: py-full
    ref: docker://snscrape
    scopes: [social]
    env: {}
    mounts: []
    # license: GPL-3 (sandboxed)
  - id: mcp.newspaper
    sandbox: py-full
    ref: docker://newspaper4k
    scopes: [news]
    mounts: []
  - id: mcp.git
    ref: docker://git
    scopes: [vcs]
    mounts: [/workspace/repos:rw]
  - id: mcp.github
    ref: docker://github
    scopes: [vcs]
    env:
      GITHUB_TOKEN: '${GITHUB_TOKEN:?}'
    mounts: []
  - id: mcp.gitlab
    ref: docker://gitlab
    scopes: [vcs]
    env:
      GITLAB_TOKEN: '${GITLAB_TOKEN:?}'
    mounts: []
  - id: mcp.gitingest
    ref: docker://gitingest
    scopes: [vcs]
    mounts: [/workspace/repos:ro]
  - id: mcp.phabricator
    ref: docker://phabricator
    scopes: [vcs]
    env:
      PHAB_TOKEN: '${PHAB_TOKEN:-}'
    mounts: []

  - id: mcp.crypto
    tier: 2
    enabled: false
    sandbox: py-full
    ref: docker://crypto
    scopes: [finance]
    env:
      CRYPTO_API_KEY: '${CRYPTO_API_KEY:-}'
    mounts: []
  - id: mcp.finance
    tier: 2
    enabled: false
    sandbox: py-full
    ref: docker://finance
    scopes: [finance]
    env:
      FIN_API_KEY: '${FIN_API_KEY:-}'
    mounts: []
  - id: mcp.wordpress
    tier: 2
    enabled: false
    sandbox: node-full
    ref: docker://wordpress
    scopes: [cms]
    env:
      WP_TOKEN: '${WP_TOKEN:-}'
    mounts: [/workspace/output:rw]
  - id: mcp.social
    tier: 2
    enabled: false
    sandbox: node-full
    ref: docker://social
    scopes: [social]
    mounts: []
  - id: mcp.sqldb
    tier: 2
    enabled: false
    sandbox: py-full
    ref: docker://sql
    scopes: [db]
    env:
      SQL_URL: '${SQL_URL:-}'
    mounts: [/workspace/db:rw]
  - id: mcp.vectordb
    tier: 2
    enabled: false
    sandbox: py-full
    ref: docker://vector
    scopes: [vector]
    env:
      VECTOR_URL: '${VECTOR_URL:-}'
    mounts: [/workspace/vector:rw]
  - id: observability.langfuse
    tier: 2
    enabled: false
    protocol: http
    sandbox: orchestrator
    ref: ${LANGFUSE_HOST:-http://langfuse:3000}
    scopes: [observability]
    env:
      LANGFUSE_PUBLIC_KEY: '${LANGFUSE_PUBLIC_KEY:-}'
      LANGFUSE_SECRET_KEY: '${LANGFUSE_SECRET_KEY:-}'
    mounts: []
  - id: observability.langsmith
    tier: 2
    enabled: false
    protocol: http
    sandbox: orchestrator
    ref: ${LANGCHAIN_ENDPOINT:-https://api.smith.langchain.com}
    scopes: [observability]
    env:
      LANGCHAIN_API_KEY: '${LANGCHAIN_API_KEY:-}'
      LANGCHAIN_PROJECT: '${LANGCHAIN_PROJECT:-}'
    mounts: []
