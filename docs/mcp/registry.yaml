# Canonical MCP registry (single source of truth)
# enabled=false entries are ignored at load time even if present in compose

version: 1
registry: docs/mcp/registry.yaml

tools:
  - id: langflow
    name: Langflow Control Plane
    tier: 1
    enabled: true
    protocol: http
    ref: orchestration/langflow # Apache-2.0
    sandbox: node-full
    scopes: [control]
    env:
      LANGFLOW_HOST: ${LANGFLOW_HOST:?}
    mounts: []

  - id: altk
    name: ALTK Planner
    tier: 1
    enabled: true
    protocol: http
    ref: orchestration/altk # MIT
    sandbox: node-full
    scopes: [planning]
    env:
      ALTK_HOST: ${ALTK_HOST:?}
    mounts: []

  - id: mcp.e2b
    name: E2B MCP Sandbox
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/e2b # MPL-2.0
    sandbox: py-full
    scopes: [compute]
    env:
      E2B_API_KEY: ${E2B_API_KEY:?}
    mounts:
      - /workspace:/workdir:rw

  - id: mcp.docker
    name: Docker MCP Sandbox
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/docker # Apache-2.0
    sandbox: py-full
    scopes: [compute]
    env: {}
    mounts:
      - /var/run/docker.sock:/var/run/docker.sock:ro

  - id: mcp.fs
    name: FileSystem MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/fs # Apache-2.0
    sandbox: py-slim
    scopes: [fs]
    env: {}
    mounts:
      - /workspace:/workspace:ro
      - /workspace/artifacts:/workspace/artifacts:rw

  - id: mcp.fast-fs
    name: Fast FileSystem MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/fast-filesystem-mcp # MIT
    sandbox: py-slim
    scopes: [fs]
    env: {}
    mounts:
      - /workspace:/workspace:ro
      - /workspace/cache:/workspace/cache:rw

  - id: mcp.llm-context
    name: LLM Context MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/llm-context # MIT
    sandbox: py-slim
    scopes: [context]
    env: {}
    mounts:
      - /workspace/context:/workspace/context:rw

  - id: mcp.filestash
    name: FileStash MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/filestash # AGPL-3.0 (note: evaluate before production)
    sandbox: py-full
    scopes: [sync]
    env: {}
    mounts:
      - /workspace/storage:/workspace/storage:rw

  - id: mcp.backup
    name: Backup MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/backup # Apache-2.0
    sandbox: py-full
    scopes: [backup]
    env: {}
    mounts:
      - /workspace/backups:/workspace/backups:rw

  - id: mcp.browser
    name: Browser MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/browser # Apache-2.0
    sandbox: node-full
    scopes: [web]
    env:
      BROWSER_BASE_URL: ${BROWSER_BASE_URL:?}
    mounts: []

  - id: mcp.search
    name: Search MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/search # Apache-2.0
    sandbox: node-slim
    scopes: [web]
    env: {}
    mounts: []

  - id: mcp.snscrape
    name: snscrape MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/snscrape # GPL-3.0 (monitor usage)
    sandbox: py-full
    scopes: [social]
    env: {}
    mounts:
      - /workspace/social:/workspace/social:rw

  - id: mcp.newspaper
    name: Newspaper4k MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/newspaper4k # Apache-2.0
    sandbox: py-full
    scopes: [web]
    env: {}
    mounts: []

  - id: mcp.git
    name: Git CLI MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/git # GPL-2.0
    sandbox: py-slim
    scopes: [vcs]
    env: {}
    mounts:
      - /workspace/repos:/workspace/repos:ro

  - id: mcp.github
    name: GitHub MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/github # MIT
    sandbox: py-slim
    scopes: [vcs]
    env:
      GITHUB_TOKEN: ${GITHUB_TOKEN:?}
    mounts:
      - /workspace/repos:/workspace/repos:ro

  - id: mcp.gitlab
    name: GitLab MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/gitlab # MIT
    sandbox: py-slim
    scopes: [vcs]
    env:
      GITLAB_TOKEN: ${GITLAB_TOKEN:?}
    mounts:
      - /workspace/repos:/workspace/repos:ro

  - id: mcp.gitingest
    name: Gitingest MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/gitingest # MIT
    sandbox: py-slim
    scopes: [vcs]
    env: {}
    mounts:
      - /workspace/repos:/workspace/repos:ro

  - id: mcp.phabricator
    name: Phabricator MCP
    tier: 1
    enabled: true
    protocol: mcp
    ref: mcp/phabricator # Apache-2.0
    sandbox: py-slim
    scopes: [vcs]
    env:
      PHABRICATOR_TOKEN: ${PHABRICATOR_TOKEN:?}
    mounts:
      - /workspace/repos:/workspace/repos:ro

  - id: vector-db
    name: Vector DB MCP
    tier: 2
    enabled: false
    protocol: mcp
    ref: mcp/vector # Apache-2.0
    sandbox: py-full
    scopes: [vector]
    env:
      VECTOR_DB_URL: ${VECTOR_DB_URL:?}
    mounts:
      - /workspace/vector:/workspace/vector:rw

  - id: scheduler
    name: Scheduler / DAG MCP
    tier: 2
    enabled: false
    protocol: mcp
    ref: mcp/scheduler # Apache-2.0
    sandbox: py-full
    scopes: [coordination]
    env: {}
    mounts:
      - /workspace/schedules:/workspace/schedules:rw

  - id: observability
    name: Observability Exporter
    tier: 2
    enabled: false
    protocol: http
    ref: observability/otel # Apache-2.0
    sandbox: py-slim
    scopes: [observability]
    env: {}
    mounts: []

  - id: langsmith
    name: LangSmith
    tier: 2
    enabled: false
    protocol: http
    ref: observability/langsmith # Proprietary
    sandbox: py-slim
    scopes: [observability]
    env:
      LANGCHAIN_API_KEY: ${LANGCHAIN_API_KEY:?}
    mounts: []

  - id: langfuse
    name: LangFuse
    tier: 2
    enabled: false
    protocol: http
    ref: observability/langfuse # Elastic License (not Tier 1)
    sandbox: py-slim
    scopes: [observability]
    env:
      LANGFUSE_PUBLIC_KEY: ${LANGFUSE_PUBLIC_KEY:?}
      LANGFUSE_SECRET_KEY: ${LANGFUSE_SECRET_KEY:?}
    mounts: []
